import WhyCard from "../WhyCard/WhyCard"
import Wrapper from "../Wrapper/Wrapper"
import styles from "./Why.module.css"
import { motion, useAnimation } from "framer-motion"
import { useInView } from 'react-intersection-observer';
import { useEffect } from "react";

export default function Why() {
    const {ref, inView} = useInView({threshold: 0.2})
    const animation = useAnimation()

    useEffect(() => {
        if(inView) {
            animation.start({
                visibility: "visible",
                scale: 1,
                opacity: 1,
                transition: {
                    delay: .3
                }
            })
        }
        if(!inView) {
            animation.start({
                visibility: "hidden",
                scale: .8,
                opacity: 0
            })
        }
    },[inView, animation])

    return(
        <div style={{ position: "relative" }}>
            <div style={{ position: "absolute", top: 0, display: "flex", width: "100%", height: "100%" }}>
                <div style={{ backgroundColor: "#A792FE12", width: "100%", height: "100%" }}></div>
                <div style={{ backgroundColor: "#FFFFFF12", width: "100%", height: "100%" }}></div>
            </div>
            <Wrapper>
                <div className={styles.block}>
                    <div style={{ color: "#232C35", marginBottom: "2rem" }}>
                        <motion.h2
                            ref={ref}
                            animate={animation} 
                            style={{ textAlign: "center", marginBottom: "3rem" }}>Why Whichride</motion.h2>
                    </div>
                    <div style={{ maxWidth: "1000px", margin: "0 auto" }}>
                        <WhyCard
                            icon={<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="32" cy="32" r="32" fill="#56CCF2"/>
                            <path d="M49.2264 21.5064C48.676 21.0728 47.2 20.7248 46.0952 20.4656L44.6 20.2656V16.6512L45.3656 16.6392C46.0832 17.0032 47.1168 17.6 47.1704 18.4H50.0536C50 16.8 48.7848 15.7904 47.7032 14.9888C46.9856 14.4568 46.2 14.1728 44.6 14.0008V12H43V13.9392C41.4 14.0928 40.8832 14.4912 40.1608 15.1416C39.216 15.992 38.7952 17.0592 38.7952 18.344C38.7952 19.752 39.1976 20.7864 40.1648 21.4488C40.7056 21.824 41.4 22.1728 43 22.496V26.412C42.2 26.2704 42.1984 26.3064 41.916 25.9712C41.644 25.6464 41.5696 24.8 41.4768 24.8H38.616C38.616 26.4 39.0488 27.1664 40.132 28.02C40.9128 28.6352 41.4 28.744 43 28.9056V30.4H44.6V28.9312C46.2 28.7768 47.5592 28.3696 48.3408 27.7024C49.3552 26.836 50.1848 25.7472 50.1848 24.4368C50.184 23.1584 50.0816 22.1824 49.2264 21.5064ZM42.2144 19.2776C41.7488 19.024 41.5696 18.64 41.5696 18.1272C41.5696 17.5688 41.724 17.132 42.196 16.82C42.4448 16.656 42.2 16.5368 43 16.4576V19.6096C42.2 19.488 42.3904 19.3776 42.2144 19.2776ZM45.6888 26.3336C45.5544 26.38 44.6 26.4168 44.6 26.4496V23.116C46.2 23.2536 46.0768 23.4016 46.3424 23.5624C46.7592 23.8216 46.9688 24.1912 46.9688 24.664C46.9688 25.4768 46.5408 26.0344 45.6888 26.3336ZM41.816 36H41.3736L36.4584 27.1C36.2464 26.7152 35.712 26.4 35.272 26.4H20.3592C19.9192 26.4 19.3848 26.7152 19.1728 27.1L14.2576 36H13.816C12.9352 36 11.8 36.72 11.8 37.6V45.6C11.8 46.48 12.9352 47.2 13.816 47.2H15V49.6C15 50.92 16.496 52 17.816 52H18.616C19.936 52 20.6 50.92 20.6 49.6V47.2H34.2V49.6C34.2 50.92 35.6952 52 37.016 52H37.816C39.136 52 39.8 50.92 39.8 49.6V47.2H41.816C42.696 47.2 43 46.48 43 45.6V37.6C43 36.72 42.6952 36 41.816 36ZM16.616 42.4C16.0856 42.4 15.5768 42.1893 15.2018 41.8142C14.8267 41.4391 14.616 40.9304 14.616 40.4C14.616 39.8696 14.8267 39.3609 15.2018 38.9858C15.5768 38.6107 16.0856 38.4 16.616 38.4C17.1464 38.4 17.6551 38.6107 18.0302 38.9858C18.4053 39.3609 18.616 39.8696 18.616 40.4C18.616 40.9304 18.4053 41.4391 18.0302 41.8142C17.6551 42.1893 17.1464 42.4 16.616 42.4ZM18.216 36L21.4584 29.516C21.6544 29.1216 22.176 28.8 22.616 28.8H33.016C33.456 28.8 33.9768 29.1216 34.1736 29.516L37.416 36H18.216ZM39.016 42.4C38.4856 42.4 37.9768 42.1893 37.6018 41.8142C37.2267 41.4391 37.016 40.9304 37.016 40.4C37.016 39.8696 37.2267 39.3609 37.6018 38.9858C37.9768 38.6107 38.4856 38.4 39.016 38.4C39.5464 38.4 40.0551 38.6107 40.4302 38.9858C40.8053 39.3609 41.016 39.8696 41.016 40.4C41.016 40.9304 40.8053 41.4391 40.4302 41.8142C40.0551 42.1893 39.5464 42.4 39.016 42.4Z" fill="white"/>
                            </svg>                                
                            }
                            title="More choices"
                            description="WhichRide lets you compare pricing across the major rideshares so you can save money on every ride."
                        />
                        <WhyCard
                            icon={<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="32" cy="32" r="32" fill="#6FCF97"/>
                            <path d="M37 40.75V48.25M47 19.5H17H47ZM47 32H17H47ZM47 44.5H17H47ZM42 15.75V23.25V15.75ZM22 28.25V35.75V28.25Z" stroke="white" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"/>
                            </svg>
                            }
                            title="More choices"
                            description="WhichRide lets you compare pricing across the major rideshares so you can save money on every ride."
                        />
                            <WhyCard
                            icon={<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="32" cy="32" r="32" fill="#F2C94C"/>
                            <path d="M37.3333 20C40.8696 20 44.2609 21.4048 46.7614 23.9052C49.2619 26.4057 50.6667 29.7971 50.6667 33.3333C50.6667 36.8696 49.2619 40.2609 46.7614 42.7614C44.2609 45.2619 40.8696 46.6667 37.3333 46.6667C33.7971 46.6667 30.4057 45.2619 27.9052 42.7614C25.4048 40.2609 24 36.8696 24 33.3333C24 29.7971 25.4048 26.4057 27.9052 23.9052C30.4057 21.4048 33.7971 20 37.3333 20ZM37.3333 23.3333C34.6812 23.3333 32.1376 24.3869 30.2623 26.2623C28.3869 28.1376 27.3333 30.6812 27.3333 33.3333C27.3333 35.9855 28.3869 38.529 30.2623 40.4044C32.1376 42.2798 34.6812 43.3333 37.3333 43.3333C39.9855 43.3333 42.529 42.2798 44.4044 40.4044C46.2798 38.529 47.3333 35.9855 47.3333 33.3333C47.3333 30.6812 46.2798 28.1376 44.4044 26.2623C42.529 24.3869 39.9855 23.3333 37.3333 23.3333ZM35.6667 26.6667H38.1667V32.9667L42.05 36.85L40.2833 38.6167L35.6667 34V26.6667ZM15.6667 43.3333C15.2246 43.3333 14.8007 43.1577 14.4882 42.8452C14.1756 42.5326 14 42.1087 14 41.6667C14 41.2246 14.1756 40.8007 14.4882 40.4882C14.8007 40.1756 15.2246 40 15.6667 40H22.05C22.5667 41.1833 23.2333 42.3 24 43.3333H15.6667ZM17.3333 35C16.8913 35 16.4674 34.8244 16.1548 34.5118C15.8423 34.1993 15.6667 33.7754 15.6667 33.3333C15.6667 32.8913 15.8423 32.4674 16.1548 32.1548C16.4674 31.8423 16.8913 31.6667 17.3333 31.6667H20.75L20.6667 33.3333L20.75 35H17.3333ZM19 26.6667C18.558 26.6667 18.134 26.4911 17.8215 26.1785C17.5089 25.866 17.3333 25.442 17.3333 25C17.3333 24.558 17.5089 24.1341 17.8215 23.8215C18.134 23.5089 18.558 23.3333 19 23.3333H24C23.2333 24.3667 22.5667 25.4833 22.05 26.6667H19Z" fill="white"/>
                            </svg>
                            }
                            title="More choices"
                            description="WhichRide lets you compare pricing across the major rideshares so you can save money on every ride."
                        />
                        <WhyCard
                            icon={<svg width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <circle cx="32" cy="32" r="32" fill="#BB6BD9"/>
                            <path d="M32 14.5L17 19.5V34.5C17 42.7852 23.7148 49.5 32 49.5C40.2852 49.5 47 42.7852 47 34.5V19.5L32 14.5ZM44.1875 34.5C44.1875 41.2305 38.7305 46.6875 32 46.6875C25.2695 46.6875 19.8125 41.2305 19.8125 34.5V21.6094L32 17.3125L44.1875 21.6094V34.5Z" fill="white"/>
                            <path d="M26.7812 30.5586C26.6509 30.4277 26.496 30.3238 26.3254 30.2529C26.1548 30.182 25.9719 30.1455 25.7871 30.1455C25.6024 30.1455 25.4194 30.182 25.2488 30.2529C25.0782 30.3238 24.9233 30.4277 24.793 30.5586C24.662 30.6889 24.5581 30.8438 24.4872 31.0144C24.4163 31.185 24.3799 31.368 24.3799 31.5527C24.3799 31.7375 24.4163 31.9204 24.4872 32.091C24.5581 32.2616 24.662 32.4165 24.793 32.5469L29.8477 37.6015L29.9297 37.6836C30.053 37.8071 30.1994 37.9051 30.3606 37.9719C30.5218 38.0388 30.6946 38.0732 30.8691 38.0732C31.0437 38.0732 31.2165 38.0388 31.3777 37.9719C31.5389 37.9051 31.6853 37.8071 31.8086 37.6836L40.5391 28.9531C40.6626 28.8298 40.7606 28.6834 40.8274 28.5222C40.8943 28.361 40.9287 28.1882 40.9287 28.0137C40.9287 27.8392 40.8943 27.6663 40.8274 27.5051C40.7606 27.3439 40.6626 27.1975 40.5391 27.0742L40.4297 26.9648C40.3064 26.8413 40.16 26.7433 39.9988 26.6765C39.8376 26.6096 39.6648 26.5752 39.4902 26.5752C39.3157 26.5752 39.1429 26.6096 38.9817 26.6765C38.8205 26.7433 38.6741 26.8413 38.5508 26.9648L30.8672 34.6445L26.7812 30.5586Z" fill="white"/>
                            </svg>
                            }
                            title="More choices"
                            description="WhichRide lets you compare pricing across the major rideshares so you can save money on every ride."
                        />
                    </div>
                </div>
            </Wrapper>
        </div>
    )
}